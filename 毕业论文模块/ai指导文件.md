# AI Agent 指导文件：毕业论文项目继续协作SOP

## 任务目标

本文件旨在为您（AI Agent）提供关于“双层自适应PINN-Kriging混合计算框架”毕业论文项目的全面背景信息。您的核心任务是基于本文件所提供的上下文，继续与我协作，完成论文的后续章节撰写、修改与完善工作。

---

## 核心原则

1.  **延续性**：您的所有回答和工作都应基于我们已经完成的章节内容和既定思路。
2.  **专业性**：您应继续扮演领域专家的角色，提供专业、严谨的文本内容和建议。
3.  **沟通与确认**：在进行任何关键章节的撰写或重大修改前，应先提出您的计划，并征求我的同意。
4.  **中文沟通**：我们的所有交流将继续使用中文。

---

## 论文撰写工作流

### 阶段一：项目理解与核心概念

#### 1.1 项目核心思想

本项目旨在开发一个用于三维物理场重建的**双层自适应PINN-Kriging混合计算框架**。该框架有两大核心创新点：

1.  **基于GPU加速的高效Kriging算法**：针对传统Kriging方法在处理大规模数据点时存在的 ($O(n^3)$) 计算瓶颈，我们使用`CuPy`库在GPU上实现了关键运算，获得了百倍量级的性能提升，这是整个框架高效运行的基石。
2.  **双层自适应智能框架**：
    *   **第一层：智能模型选择器**。通过`Ripley's K-function`等空间统计方法分析输入数据的分布特性。若数据均匀稠密，则直接调用高效的GPU-Kriging；若数据稀疏不均，则激活第二层。
    *   **第二层：Kriging引导的PINN自adaptive training**。利用前述的GPU-Kriging作为一个快速、廉价的“物理误差代理模型”，通过其预测方差来识别PINN求解的“硬区域”，并自适应地增加这些区域的配置点密度，从而在保证物理一致性的前提下，加速PINN的收敛并提升精度。

#### 1.2 项目代码文件解析

项目的主要代码文件及其作用如下：

*   `main.py`: 项目的**主入口文件**。负责解析配置、加载数据，并根据`智能模型选择器`的决策，调用相应的`GPU-Kriging`模块或`Kriging引导的PINN`训练流程，是整个工作流的“指挥中心”。
*   `config.py`: **配置文件**。以常量的形式存储了项目中所有的超参数、模型设置、数据路径、实验参数等。
*   `adaptive_pinn_trainer.py`: **核心算法实现（PINN部分）**。包含了物理信息神经网络（PINN）的PyTorch模型定义，以及我们设计的、由Kriging引导的自适应加权采样训练循环。
*   `ComposeTools.py`: **核心工具与算法库**。这是一个多功能模块，包含了：
    *   **GPU加速的Kriging算法实现**（基于CuPy）。
    *   **空间统计函数**（如Ripley's K-function）的实现。
    *   数据加载、处理与生成工具。
    *   用于生成论文所需图表的**可视化函数**。
*   `README_CONFIG.md`: `config.py`文件的**说明文档**，解释了各个配置项的含义和作用。

### 阶段二：论文当前进度

我们已经完成了论文**前四章**的草稿撰写工作。

*   **第一章：绪论**：已完成。明确了研究背景、目的、意义，并清晰地将“GPU加速Kriging”和“双层自适应框架”作为两大核心创新点列入了研究内容。
*   **第二章：相关理论与技术基础**：已完成。详细介绍了Kriging（及其计算瓶颈）、PINN和基于CuPy的GPU加速技术。
*   **第三章：双层自适应混合框架算法设计**：已完成。这是论文的**核心算法章节**，详细阐述了框架的总体设计、两层自适应算法的原理、流程与实现细节，并处处强调了GPU加速的关键作用。
*   **第四章：实验设计与结果分析**：已完成。我们已经设计了两个关键实验的完整方案，并给出了**预期的结果表格和分析**：
    1.  **实验一**：用于验证GPU-Kriging相对于CPU-Kriging的性能加速比。
    2.  **实验二**：用于在不同数据分布下，综合对比我们的框架、纯Kriging和标准PINN在精度和效率上的优劣。

### 阶段三：后续工作与写作思路

我们剩下最后两章的工作。

#### 3.1 第五章：实际应用案例研究

本章旨在展示框架解决实际问题的能力。写作思路如下：
*   **5.1 案例背景介绍**：选择一个具体的工程或科学问题，例如“工业热交换设备内部三维温度场重建”或“特定区域地下水污染物浓度分布估算”，说明该问题的背景和重建的意义。
*   **5.2 数据与模型设置**：介绍用于该案例的数据来源（可以是仿真数据或真实世界稀疏观测数据），并说明如何为该问题设定物理方程（对于PINN）和模型参数。
*   **5.3 重建过程与结果**：应用我们的框架进行重建。展示第一层智能选择器的决策过程与结果。将最终的重建结果进行三维可视化，并与现有的（或简化的）模型结果进行对比。
*   **5.4 案例分析与讨论**：分析重建结果的物理意义，讨论我们的框架在该应用场景下体现出的优势（例如，比传统仿真软件更快，比纯数据插值更符合物理规律等）。

#### 3.2 第六章：总结与展望

本章是对全文的总结。
*   **6.1 全文工作总结**：系统性地回顾整个研究工作，从提出问题、设计算法，到实验验证和案例应用。
*   **6.2 主要贡献**：凝练地、分点列出本文的核心创新点（例如：1. 提出并实现了一种高效的GPU加速Kriging算法... 2. 设计并验证了一个...的双层自适应框架...）。
*   **6.3 不足与展望**：客观地指出当前工作的局限性（例如，对更复杂物理方程的适应性、对噪声的鲁棒性等），并提出未来可能的研究方向。

### 阶段四：可视化图表与论文占位符

项目代码会生成一系列图表用于实验验证，它们在论文中的位置如下：

1.  **GPU加速性能图**
    *   **内容**：对比在不同数据点规模下，CPU-Kriging与GPU-Kriging的运行时间，通常为柱状图或折线图。
    *   **位置**：第四章 `4.2.2 实验结果与分析`。
    *   **占位符**: `![Performance comparison of CPU vs. GPU Kriging](placeholder_gpu_speedup.png)`

2.  **重建结果与误差对比图**
    *   **内容**：在一个典型案例（如“聚集分布”数据）下，将**真值场**、**GPU-Kriging**、**标准PINN**和**我们框架**的重建结果（以2D切片形式）并排展示。同时，展示各自与真值场对比的**误差图**。
    *   **位置**：第四章 `4.3.2 预期结果与分析` 的可视化对比部分。
    *   **占位符**:
        *   `![Visual comparison of reconstruction results for the Clustered dataset](placeholder_reconstruction_comparison.png)`
        *   `![Error map comparison for the Clustered dataset](placeholder_error_map_comparison.png)`

3.  **应用案例结果图**
    *   **内容**：第五章实际应用案例的最终三维重建结果的可视化（可以是3D渲染图或多个代表性2D切片）。
    *   **位置**：第五章 `5.3 重建过程与结果`。
    *   **占位符**: `![Reconstruction result for the real-world application case](placeholder_case_study_result.png)`

---

## 下一步行动

我们的下一个任务是开始撰写 **第五章：实际应用案例研究**。请首先与我讨论并确定一个具体的应用场景。
